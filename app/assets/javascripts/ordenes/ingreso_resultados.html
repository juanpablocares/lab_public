<div class="widget-container fluid-height">
	<div class="heading">
		Ingreso manual resultados examen
	</div>
	<div class="widget-content padded">
		<form class="form-horizontal" ng-submit="guardarResultados()" name="formResultados" novalidate>
			<div>
				<div ng-if="formResultados.$submitted && !formResultados.$valid" class="panel panel-danger">
					Debe agregar todos los resultados del examen
				</div>
				<table class="table table-striped">
					<thead>
						<th>#</th>
						<th>Nombre examen</th>
						<th>Parámetro</th>
						<th>Cantidad</th>
						<th>Un.</th>
						<th>Flebotomista</th>
						<th>Grabado</th>
						<th>Validador</th>
						<th>Estado</th>
						<th>Opciones</th>
					</thead>
					<tbody>
						<tr ng-repeat="item in mostrar_parametros track by $index">
							<td>{{item.indice}}</td>
							<td>
								{{item.nombre}}
							</td>
							<td>
								{{item.nombre_parametro}}
							</td>
							<td ng-switch="item.tipo" ng-show="item.mostrar">
								<input ng-disabled="item.deshabilitar" ng-switch-when="numerico" class="form-control" placeholder="Ingrese cantidad" type="number" ng-model="item.cantidad"/>
								<input ng-disabled="item.deshabilitar" ng-switch-default class="form-control" placeholder="Ingrese cantidad" type="text" ng-model="item.cantidad"/>
							</td>
							<td ng-hide="item.mostrar" >
								Examen sin parámetros asignados
							</td >
							<td>{{item.unidad_medida}}</td>
							<td title="{{item.fecha_muestra}}">{{item.flebotomista}}</td>
							<td title="{{item.fecha_grabacion}}">{{item.grabado}}</td>
							<td title="{{item.fecha_validacion}}">{{item.validador}}</td>
							<td ng-switch="item.estado">
								<span ng-switch-when="0" class="label label-danger">M. Pendiente</span>
								<span ng-switch-when="1" class="label label-warning">Sin resultado</span>
								<span ng-switch-when="2" class="label label-success">Grabado</span>
								<span ng-switch-when="3" class="label label-primary">Validado</span>
								<span ng-switch-when="4" class="label label-info">Impreso</span>
							</td>
							<td align="center">
								<a ng-show="item.mostrar" ng-click="guardar_resultado($index, item)" style="color: {{item.color_save}}; cursor:pointer;" class="text-primary" title="Guardar resultado"><i class="fa fa-floppy-o fa-lg"></i></a>
								<a ng-show="item.mostrar" ng-click="validar_resultado($index, item)" style="color: {{item.color_validado}}; cursor:pointer;" class="text-primary" title="Validar resultado"><i class="fa fa-check fa-lg"></i></a>
								<a class="text-primary" ui-sref="loginRequired.examenes.parametros({examen_id: item.examen_id})" title="Información examen"><i class="fa fa-info-circle fa-lg"></i></a>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</form>
	</div>
</div>